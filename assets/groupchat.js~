function setupGroupChat() {
  const chatWindow = document.getElementById('chat-window');
  const chatInput = document.getElementById('chat-input');
  const sendBtn = document.getElementById('send-btn');

  if (!chatWindow || !chatInput || !sendBtn) return;

  function appendMessage(msg, isUser = false) {
    const message = document.createElement('div');
    message.textContent = msg;
    message.style.padding = '0.3rem 0.5rem';
    message.style.margin = '0.2rem 0';
    message.style.borderRadius = '5px';
    message.style.backgroundColor = isUser ? '#ff5252' : '#333';
    message.style.color = isUser ? 'white' : '#ccc';
    chatWindow.appendChild(message);
    chatWindow.scrollTop = chatWindow.scrollHeight;
  }

  sendBtn.onclick = () => {
    const msg = chatInput.value.trim();
    if (!msg) return;
    appendMessage(msg, true);
    chatInput.value = '';

    // Echo back message after delay for demo
    setTimeout(() => {
      appendMessage(`Echo: ${msg}`);
    }, 1000);
  };

  chatInput.addEventListener('keypress', e => {
    if (e.key === 'Enter') {
      sendBtn.click();
    }
  });
}

